    <div class="container" id="login-form">

    </div> <!-- /container -->

<script type="text/babel">

	class LoginForm extends React.Component {
		constructor(props) {
			super(props);
			this.state = {
				error: null,
				isLoaded: false,
				user: { email: '', password: ''}
			};

			this.handleClick = this.handleClick.bind(this);
      this.handleChange = this.handleChange.bind(this);
		}


    renderRedirect() {
      if (this.state.isLoaded) {
        window.location.href = '/posts'
      }
    }

    handleChange(event) {
      const name = event.target.name;
      const value = event.target.value;

      this.setState({
        user: {
          [name]: value
        }
      });
    }

		handleClick() {
      var form = document.querySelector('form');
			fetch("/users", {
				method: 'POST',
				body: new FormData(form),
				})
				.then(res => res.json())
				.then(
					(result) => {
						console.log(result);
            if(result.id) {
              this.setState({
                isLoaded: true,
              });
            }
					},
					(error) => {
						this.setState({
							isLoaded: false,
							error
						});
					}
				)
		}

		render() {
			return (
      <form className="form-signin">
        {this.renderRedirect()}
        <h2 className="form-signin-heading">登录</h2>
        <label htmlFor="inputEmail" className="sr-only">Email</label>
        <input type="email" id="inputEmail" className="form-control" name="user[email]" value={this.state.user.email} onChange={this.handleChange} placeholder="邮箱地址" required autoFocus />
        <label htmlFor="inputPassword" className="sr-only">密码</label>
        <input type="password" id="inputPassword" className="form-control" name="user[password]" value={this.state.user.password} onChange={this.handleChange} placeholder="密码" required />
        <div className="checkbox">
          <label>
            <a href="/users/new">没有账户？立即注册</a>
          </label>
        </div>
        <button className="btn btn-lg btn-primary btn-block" type="submit" onClick={this.handleClick}>提交</button>
      </form>
			);
		}
	}

	ReactDOM.render(
		<LoginForm />,
		document.getElementById('login-form')
	);

</script>
